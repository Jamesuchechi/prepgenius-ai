'use client'\n\nimport React, { useEffect } from 'react'\nimport { useAuthStore } from '@/store/authStore'\n\ninterface AuthContextProviderProps {\n  children: React.ReactNode\n}\n\nexport function AuthContextProvider({ children }: AuthContextProviderProps) {\n  const { tokens, getCurrentUser } = useAuthStore()\n\n  // Initialize auth on mount\n  useEffect(() => {\n    const initializeAuth = async () => {\n      // Check if we have tokens in localStorage\n      if (typeof window !== 'undefined') {\n        const accessToken = localStorage.getItem('access_token')\n        const refreshToken = localStorage.getItem('refresh_token')\n\n        if (accessToken && refreshToken) {\n          try {\n            // Verify tokens by fetching current user\n            await getCurrentUser()\n          } catch (error) {\n            // Tokens invalid, clear them\n            localStorage.removeItem('access_token')\n            localStorage.removeItem('refresh_token')\n          }\n        }\n      }\n    }\n\n    initializeAuth()\n  }, [])\n\n  return <>{children}</>\n}\n"