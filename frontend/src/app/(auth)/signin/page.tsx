'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { useRouter } from 'next/navigation'\nimport { useAuthStore } from '@/store/authStore'\nimport Button from '@/components/ui/Button'\n\ninterface FormErrors {\n  email?: string\n  password?: string\n  general?: string\n}\n\nexport default function SignInPage() {\n  const router = useRouter()\n  const { login, isLoading, error, clearError } = useAuthStore()\n  const [formData, setFormData] = useState({ email: '', password: '' })\n  const [errors, setErrors] = useState<FormErrors>({})\n  const [showPassword, setShowPassword] = useState(false)\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setFormData((prev) => ({ ...prev, [name]: value }))\n    setErrors((prev) => ({ ...prev, [name]: '' }))\n    clearError()\n  }\n\n  const validateForm = (): boolean => {\n    const newErrors: FormErrors = {}\n\n    if (!formData.email) {\n      newErrors.email = 'Email is required'\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Please enter a valid email'\n    }\n\n    if (!formData.password) {\n      newErrors.password = 'Password is required'\n    }\n\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n\n    if (!validateForm()) return\n\n    try {\n      await login(formData)\n      router.push('/dashboard')\n    } catch (err) {\n      // Error is handled by the store\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center px-4 py-8\">\n      <div className=\"w-full max-w-md\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"font-display text-4xl font-bold text-[var(--black)] mb-2\">\n            Welcome Back\n          </h1>\n          <p className=\"text-[var(--gray-dark)]\">\n            Sign in to continue to PrepGenius\n          </p>\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm\">\n            {error}\n          </div>\n        )}\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-5\">\n          {/* Email Input */}\n          <div>\n            <label className=\"block text-sm font-medium text-[var(--black)] mb-2\">\n              Email Address\n            </label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleChange}\n              disabled={isLoading}\n              placeholder=\"you@example.com\"\n              className={`w-full px-4 py-3 rounded-lg border-2 transition-colors ${\n                errors.email\n                  ? 'border-red-500 focus:border-red-500'\n                  : 'border-transparent focus:border-[var(--blue)]'\n              } bg-[var(--gray)] focus:bg-white focus:outline-none disabled:opacity-50`}\n            />\n            {errors.email && (\n              <p className=\"text-red-500 text-sm mt-1\">{errors.email}</p>\n            )}\n          </div>\n\n          {/* Password Input */}\n          <div>\n            <label className=\"block text-sm font-medium text-[var(--black)] mb-2\">\n              Password\n            </label>\n            <div className=\"relative\">\n              <input\n                type={showPassword ? 'text' : 'password'}\n                name=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n                disabled={isLoading}\n                placeholder=\"Enter your password\"\n                className={`w-full px-4 py-3 rounded-lg border-2 transition-colors ${\n                  errors.password\n                    ? 'border-red-500 focus:border-red-500'\n                    : 'border-transparent focus:border-[var(--blue)]'\n                } bg-[var(--gray)] focus:bg-white focus:outline-none disabled:opacity-50 pr-10`}\n              />\n              <button\n                type=\"button\"\n                onClick={() => setShowPassword(!showPassword)}\n                className=\"absolute right-3 top-3 text-[var(--gray-dark)] hover:text-[var(--black)]\"\n                disabled={isLoading}\n              >\n                {showPassword ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è'}\n              </button>\n            </div>\n            {errors.password && (\n              <p className=\"text-red-500 text-sm mt-1\">{errors.password}</p>\n            )}\n          </div>\n\n          {/* Forgot Password Link */}\n          <div className=\"text-right\">\n            <Link\n              href=\"/auth/reset-password\"\n              className=\"text-sm text-[var(--blue)] hover:text-[var(--orange)] transition-colors\"\n            >\n              Forgot password?\n            </Link>\n          </div>\n\n          {/* Submit Button */}\n          <Button\n            variant=\"primary\"\n            type=\"submit\"\n            disabled={isLoading}\n            className=\"w-full py-3 text-lg\"\n          >\n            {isLoading ? 'Signing in...' : 'Sign In'}\n          </Button>\n        </form>\n\n        {/* Sign Up Link */}\n        <p className=\"text-center text-[var(--gray-dark)] mt-6\">\n          Don't have an account?{' '}\n          <Link\n            href=\"/auth/signup\"\n            className=\"text-[var(--blue)] font-semibold hover:text-[var(--orange)] transition-colors\"\n          >\n            Sign Up\n          </Link>\n        </p>\n      </div>\n    </div>\n  )\n}\n"
